var Barge=Barge||{};
(function(e,g){var h=function(e){if("object"!==typeof e.document)throw Error("Barge.Cookies requires a `window` with a `document` object");Barge.Cookies=function(a,b,c){return 1===arguments.length?Barge.Cookies.get(a):Barge.Cookies.set(a,b,c)};Barge.Cookies._document=e.document;Barge.Cookies._cacheKeyPrefix="cookey.";Barge.Cookies._maxExpireDate=new Date("Fri, 31 Dec 9999 23:59:59 UTC");Barge.Cookies.defaults={path:"/",secure:!1};Barge.Cookies.get=function(a,b){Barge.Cookies._cachedDocumentCookie!==Barge.Cookies._document.cookie&&
Barge.Cookies._renewCache();a=Barge.Cookies._cache[Barge.Cookies._cacheKeyPrefix+a];return void 0===a?void 0:b?JSON.parse(a):decodeURIComponent(a)};Barge.Cookies.toggle=function(a,b,c){c=void 0===c?null:c;void 0!==this.get(a)?this.expire(a,c):this.set(a,b,c)};Barge.Cookies.set=function(a,b,c){c=Barge.Cookies._getExtendedOptions(c);c.expires=Barge.Cookies._getExpiresDate(void 0===b?-1:g.defined(c.expires)?c.expires:Barge.Cookies._maxExpireDate);c.json&&(b=JSON.stringify(b));if(g.defined(b)){a=a.replace(/[^#$&+\^`|]/g,
encodeURIComponent);a=a.replace(/\(/g,"%28").replace(/\)/g,"%29");b=(b+"").replace(/[^!#$&-+\--:<-\[\]-~]/g,encodeURIComponent);var d=a.toString()+"="+b.toString()+"; expires="+(g.defined(c.expires)?c.expires:Barge.Cookies._maxExpireDate)}else d=a.toString()+"=; expires=Thu, 01 Jan 1970 00:00:00 UTC; domain=abacus.edu";document.cookie=d;Barge.Cookies._document.cookie=Barge.Cookies._generateCookieString(a,b,c);return Barge.Cookies};Barge.Cookies.expire=function(a,b){return Barge.Cookies.set(a,void 0,
b)};Barge.Cookies.remove=Barge.Cookies.expire;Barge.Cookies._getExtendedOptions=function(a){return{path:a&&a.path||Barge.Cookies.defaults.path,domain:a&&a.domain||Barge.Cookies.defaults.domain,expires:a&&a.expires||Barge.Cookies.defaults.expires,secure:a&&void 0!==a.secure?a.secure:Barge.Cookies.defaults.secure}};Barge.Cookies._isValidDate=function(a){return"[object Date]"===Object.prototype.toString.call(a)&&!isNaN(a.getTime())};Barge.Cookies._getExpiresDate=function(a,b){b=b||new Date;"number"===
typeof a?a=Infinity===a?Barge.Cookies._maxExpireDate:new Date(b.getTime()+1E3*a):"string"===typeof a&&(a=new Date(a));if(a&&!Barge.Cookies._isValidDate(a))throw Error("`expires` parameter cannot be converted to a valid Date instance");return a};Barge.Cookies._generateCookieString=function(a,b,c){a=a.replace(/[^#$&+\^`|]/g,encodeURIComponent);a=a.replace(/\(/g,"%28").replace(/\)/g,"%29");b=(b+"").replace(/[^!#$&-+\--:<-\[\]-~]/g,encodeURIComponent);c=c||{};a=a+"="+b+(c.expires?";expires="+c.expires.toUTCString():
"");return a+=c.secure?";secure":""};Barge.Cookies._getCacheFromString=function(a){var b={};a=a?a.split("; "):[];for(var c=0;c<a.length;c++){var d=Barge.Cookies._getKeyValuePairFromCookieString(a[c]);void 0===b[Barge.Cookies._cacheKeyPrefix+d.key]&&(b[Barge.Cookies._cacheKeyPrefix+d.key]=d.value)}return b};Barge.Cookies._getKeyValuePairFromCookieString=function(a){var b=a.indexOf("=");b=0>b?a.length:b;var c=a.substr(0,b);try{var d=decodeURIComponent(c)}catch(k){console&&"function"===typeof console.error&&
console.error('Could not decode cookie with key "'+c+'"',k)}return{key:d,value:a.substr(b+1)}};Barge.Cookies._renewCache=function(){Barge.Cookies._cache=Barge.Cookies._getCacheFromString(Barge.Cookies._document.cookie);Barge.Cookies._cachedDocumentCookie=Barge.Cookies._document.cookie};Barge.Cookies._areEnabled=function(){var a="1"===Barge.Cookies.set("cookies.js",1).get("cookies.js");Barge.Cookies.expire("cookies.js");return a};Barge.Cookies.enabled=Barge.Cookies._areEnabled();return Barge.Cookies},
f=e&&"object"===typeof e.document?h(e):h;"function"===typeof define&&define.amd?define(function(){return f}):"object"===typeof exports?("object"===typeof module&&"object"===typeof module.exports&&(module.exports=f),exports.Barge.Cookies=f):e.Barge.Cookies=f})("undefined"===typeof window?this:window,Barge.utils);
