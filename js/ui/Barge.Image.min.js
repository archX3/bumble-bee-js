var Barge=Barge||{};
(function(d){document.head.getAttribute("data-theme");Barge.Image=Barge.Image||{};Barge.Image.makePreviewable=function(a,c){var f=/^([a-zA-Z0-9\s_\\.\-:])+(.png|.jpg|.jpeg|.tiff|.gif|.ico|.svg)$/;if(a&&c){"string"===typeof a&&(a=d.gebi(a));"string"===typeof c&&(c=d.gebi(c));var e=window.URL||window.webkitURL;e?a.onchange=function(){var b=this.files;b&&b.length?(b=b[0],/^image\/\w+/.test(b.type),f.test(a.value.toLowerCase())?c.style.backgroundImage="url("+e.createObjectURL(b)+")":Barge.DiceyDialog.confirm({t:"Selected file type not supported",
m:"Please choose an image file.",i:"f"})):Barge.DiceyDialog.confirm({t:"Selected file type not supported",m:"Please choose an image file.",i:"f"})}:Barge.DiceyDialog.confirm({t:"...well this is embarrassing",m:"Your image has been loaded but previewing is not supported by your browser.",i:"w"})}else throw Error("Missing params imgInputEl and/or imgPreviewEl");}})(Barge.utils);
