var Bee=Bee||{};
(function(){Bee.Timer=function(c,d,a,b){this.type=void 0===a?"timeout":a;this.startTime=this.timerId=null;this.remaining=this.delay=d;this.callback=c;this.autoStart=void 0===b?!0:b;this.states={started:!1,playing:!1,paused:!1,stopped:!1};this.init()};Bee.Timer.prototype.init=function(){"timeout"===this.type&&(this.startTime=new Date);this.autoStart&&this.play()};Bee.Timer.prototype.getRemaining=function(){return this.remaining-=new Date-this.startTime};Bee.Timer.prototype.getElapsed=function(){return this.remaining-=
Math.abs(this.startTime-new Date)};Bee.Timer.prototype.play=function(){!0!==this.states.playing&&(this.stop(),this.timerId="timeout"===this.type?setTimeout(this.callback,this.remaining):setInterval(this.callback,this.delay),this.states.stopped=!1,this.states.paused=!1)};Bee.Timer.prototype.pause=function(){this.states.paused||(this.stop(),"timeout"===this.type&&(this.remaining-=new Date-this.startTime),this.states.paused=!0,this.states.playing=!1)};Bee.Timer.prototype.stop=function(){this.states.stopped||
("timeout"===this.type?window.clearTimeout(this.timerId):window.clearInterval(this.timerId),this.states.stopped=!0,this.states.playing=!1)};Bee.Timer.prototype.clear=function(){this.stop();this.destroy()};Bee.Timer.prototype.restart=function(){this.stop();this.play()};Bee.Timer.prototype.reset=Bee.Timer.prototype.restart;Bee.Timer.prototype.start=Bee.Timer.prototype.play;Bee.Timer.prototype.resume=Bee.Timer.prototype.play;Bee.Timer.prototype.destroy=function(){this.reset=this.restart=this.resume=
this.stop=this.play=this.pause=this.callback=this.remaining=this.delay=this.startTime=this.timerId=null};Bee.Timer.TimerManager=function(){this.timers=[]};return Timer=Bee.Timer})();
