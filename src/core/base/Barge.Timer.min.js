var Barge=Barge||{};
(function(){Barge.Timer=function(c,d,a,b){this.type=void 0===a?"timeout":a;this.startTime=this.timerId=null;this.remaining=this.delay=d;this.callback=c;this.autoStart=void 0===b?!0:b;this.states={started:!1,playing:!1,paused:!1,stopped:!1};this.init()};Barge.Timer.prototype.init=function(){"timeout"===this.type&&(this.startTime=new Date);this.autoStart&&this.play()};Barge.Timer.prototype.getRemaining=function(){return this.remaining-=new Date-this.startTime};Barge.Timer.prototype.getElapsed=function(){return this.remaining-=
Math.abs(this.startTime-new Date)};Barge.Timer.prototype.play=function(){!0!==this.states.playing&&(this.stop(),this.timerId="timeout"===this.type?window.setTimeout(this.callback,this.remaining):window.setInterval(this.callback,this.delay),this.states.stopped=!1,this.states.paused=!1)};Barge.Timer.prototype.pause=function(){this.states.paused||(this.stop(),"timeout"===this.type&&(this.remaining-=new Date-this.startTime),this.states.paused=!0,this.states.playing=!1)};Barge.Timer.prototype.stop=function(){this.states.stopped||
("timeout"===this.type?window.clearTimeout(this.timerId):window.clearInterval(this.timerId),this.states.stopped=!0,this.states.playing=!1)};Barge.Timer.prototype.clear=function(){this.stop();this.destroy()};Barge.Timer.prototype.restart=function(){this.stop();this.play()};Barge.Timer.prototype.reset=Barge.Timer.prototype.restart;Barge.Timer.prototype.start=Barge.Timer.prototype.play;Barge.Timer.prototype.resume=Barge.Timer.prototype.play;Barge.Timer.prototype.destroy=function(){this.reset=this.restart=
this.resume=this.stop=this.play=this.pause=this.callback=this.remaining=this.delay=this.startTime=this.timerId=null};Barge.Timer.TimerManager=function(){this.timers=[]};return Timer=Barge.Timer})();
