Bee.DiceyDialog.js:376: WARNING - Suspicious code. This code lacks side-effects. Is there a bug?
      else if (options.isPrompt)
           ^^^^^^^^^^^^^^^^^^^^^

0 error(s), 1 warning(s)
(function(g,e){"function"===typeof define&&define.amd?define([],function(){return g["Barge.DiceyDialog"]=e(g)}):"object"===typeof exports?module.exports=e(g):g["Barge.DiceyDialog"]=e(g)})(window,function(g){function e(a){a=void 0===a?null:a;this.inputEl=this.icon=this.backBtn=this.closeBtn=this.message=this.title=this.foot=this.body=this.head=this.overlay=this.dialog=this.options=null;this.options={affirmBtn:{name:"OK",el:null},cancelBtn:{name:"Cancel",el:null},buttonAlignment:"center",draggable:!0,
navigateWithArrowKeys:!0,dismissOnEscape:!0,highlightDefaultBtn:!0,dismissOnOverlayClick:!1};a&&(this.options=c.extend(this.options,a))}function f(a,b,d){c.defined(a[b])&&(a[d]=a[b])}var c=Bee.Utils,m=Bee.Array,l=Bee.String,d=Bee.Widget;e.prototype.alert=function(a){a=void 0===a?{}:a;f(a,"t","title");f(a,"b","affirmBtnTitle");this.render(!0,a)};e.prototype.progressDialog=function(a){a=void 0===a?{}:a;a.isProgressDialog=!0;a.icon="p";f(a,"m","message");c.defined(a.dismissible)&&!0===a.dismissible&&
(a.dismissOnOverlayClick=!0);this.render(!1,a)};e.prototype.confirm=function(a){a=void 0===a?null:a;f(a,"i","icon");f(a,"t","title");f(a,"m","message");f(a,"b","affirmBtnTitle");f(a,"b2","cancelBtnTitle");this.render(!1,a)};e.prototype.fileDialog=function(a){a=void 0===a?null:a;f(a,"b","affirmBtnTitle");f(a,"b2","cancelBtnTitle");a.isFileDialog=!0;this.render(!1,a,!0)};e.prototype.render=function(a,b,e){a=void 0===a?!0:a;b=void 0===b?null:b;e=void 0===e?!1:e;c.defined(this.dialog)&&this.dismiss();
this.dialog=d.createEl("div",{className:"msgBx "+(e?"fl-dg":"")});if(!b.isProgressDialog){var h=this.createTitle(b.title,b.hasPrompt);this.dialog.appendChild(h)}a||(h=this.createBody(b),this.dialog.appendChild(h));if(!b.isProgressDialog||b.isProgressDialog&&b.dismissible)a=this.createFoot(a,b,e),this.dialog.appendChild(a);this.overlay=d.appendOverlay(null,{opacity:.7,backgroundColor:""});this.addClickEvents(b);this.addKeyboardNavEvents();!0!==this.options.draggable||b.isProgressDialog||this.makeDraggable();
d.appendToWindow(this.dialog);d.centerToPageHorizontally(this.dialog)};e.prototype.createTitle=function(a,b){a=void 0===a?"":a;b=void 0===b?!1:b;var c=this;this.head=d.createEl("div",{classList:["msgTitle"]});this.title=d.createEl("h1",{innerHTML:a});this.closeBtn=d.createEl("button",{className:"closeBtn",innerHTML:"&times;"});this.closeBtn.addEventListener("click",function(){c.dismiss()});this.head.appendChild(this.title);this.head.appendChild(this.closeBtn);b&&(this.backBtn=d.createEl("button",
{classList:["backBtn","hide"],innerHTML:"&leftarrow;"}),this.head.appendChild(this.backBtn));return this.head};e.prototype.createBody=function(a,b,e,f){this.body=d.createEl("div",{className:"msgBody"});c.defined(a.icon)&&!l.isEmpty(a.icon)&&(this.icon=d.createEl("div",{classList:["msgIcon",a.icon]}),"p"===a.icon&&(this.icon.innerHTML="<div class='loader'></div>"),this.body.appendChild(this.icon));if(!a.isFileDialog&&!a.isPrompt)b=d.createEl("div",{className:"msgContent"}),a.message=a.isProgressDialog&&
l.isEmpty(a.message)?"Working on it, ;nl Please have patience":a.message,a.message=a.message.replace(/\*(\w+)*(\W+)*\*/ig,"<b/>"),a.message=a.message.replace(/_[A-z]+_/ig,"<b/>"),this.message=d.createEl("p",{innerHTML:a.message.replace(/;nl/ig,"<br/>")},{marginRight:c.defined(a.icon)&&!l.isEmpty(a.icon)?"10px":""}),b.appendChild(this.message),this.body.appendChild(b),b=null;else if(!0===a.isFileDialog){b=d.createEl("div",{className:"fileContainer fp"});var h=d.createEl("ul",{id:"existingFileList"});
c.defined(a.files)&&(m.forEach(a.files,function(a,b){b=c.defined(a.name)?a.name:"";a=d.createEl("li",{innerHTML:"<div class='file'><div class='fileIcon"+(c.defined(a.iconClass)?a.iconClass:"")+"'></div> <div class='fileName tc ellipsify' title='"+b+"'>"+b+" </div> </div>"});h.appendChild(a)}),b.appendChild(h));this.body.appendChild(b);h=b=null}return this.body};e.prototype.createFoot=function(a,b,e){a=void 0===a?!0:a;b=void 0===b?{}:b;e=void 0===e?!1:e;var f=b.primaryBtnNumber;this.foot=d.createEl("div",
{className:"msgFoot"},{textAlign:this.options.buttonAlignment});if(e){e=d.createEl("div",{className:"inputContainer"});var h=d.createEl("table",{className:"dataTable medium"}),g=d.createEl("tr",{className:"noHov footRow"}),k=d.createEl("td",{className:"fileNameInputLabel",innerHTML:"File Name"}),l=d.createEl("td");this.inputEl=d.createEl("input",{id:"filnameInp",value:b.defaultFileName?b.defaultFileName:""});l.appendChild(this.inputEl);var m=d.createEl("td",{className:"shortest",innerHTML:"Type"}),
p=d.createEl("td",{className:"shorter fileType",innerHTML:"<select name='' id='' title='' class='disabled'><option value='gsys'>"+(c.defined(b.accept)?b.accept:"all")+"</option></select>"}),n=d.createEl("tbody");d.appendChildren(g,[k,l,m,p]);n.appendChild(g);h.appendChild(n);e.appendChild(h);this.foot.appendChild(e)}this.options.affirmBtn.el=d.createEl("button",{classList:["msgBxBtns",f&&1===f?"primary":"x",f&&1===f?"defaultBtn":"d"],innerHTML:c.defined(b.affirmBtnTitle)?b.affirmBtnTitle:this.options.affirmBtn.name});
this.foot.appendChild(this.options.affirmBtn.el);a||b.isProgressDialog||(this.options.cancelBtn.el=d.createEl("button",{classList:["msgBxBtns",f&&2===f?"primary":"x"],innerHTML:c.defined(b.cancelBtnTitle)?b.cancelBtnTitle:this.options.cancelBtn.name}),this.foot.appendChild(this.options.cancelBtn.el));return this.foot};e.prototype.addKeyboardNavEvents=function(){var a=this;!0===this.options.dismissOnEscape&&g.addEventListener("keyup",function(b){27===b.keyCode&&a.dismiss()});!0===this.options.navigateWithArrowKeys&&
g.addEventListener("keydown",function(b){13===b.keyCode&&(b.preventDefault(),c.defined(a.options.affirmBtn.el)&&d.hasClass(a.options.affirmBtn.el,"primary")?(console.log("yes"),a.options.affirmBtn.el.focus(),a.options.affirmBtn.el.click()):c.defined(a.options.cancelBtn.el)&&d.hasClass(a.options.cancelBtn.el,"primary")&&a.options.cancelBtn.el.click());if(c.defined(a.inputEl)){if(b.target!==a.inputEl)if(37===b.keyCode||40===b.keyCode)b.preventDefault(),c.defined(a.options.affirmBtn.el)&&!c.defined(a.options.cancelBtn.el)?
d.addClass(a.options.affirmBtn.el,"primary"):c.defined(a.options.affirmBtn.el)&&c.defined(a.options.cancelBtn.el)&&(a.options.affirmBtn.el.classList.contains("primary")||a.options.affirmBtn.el.classList.add("primary"),a.options.cancelBtn.el.classList.contains("primary")&&a.options.cancelBtn.el.classList.remove("primary"));else if(39===b.keyCode||38===b.keyCode)b.preventDefault(),c.defined(a.options.affirmBtn.el)&&!c.defined(a.options.cancelBtn.el)?d.addClass(a.options.affirmBtn.el,"primary"):c.defined(a.options.affirmBtn.el)&&
c.defined(a.options.cancelBtn.el)&&(a.options.cancelBtn.el.classList.contains("primary")||a.options.cancelBtn.el.classList.add("primary"),a.options.affirmBtn.el.classList.contains("primary")&&a.options.affirmBtn.el.classList.remove("primary"))}else if(37===b.keyCode||40===b.keyCode)b.preventDefault(),c.defined(a.options.affirmBtn.el)&&!c.defined(a.options.cancelBtn.el)?d.addClass(a.options.affirmBtn.el,"primary"):c.defined(a.options.affirmBtn.el)&&c.defined(a.options.cancelBtn.el)&&(a.options.affirmBtn.el.classList.contains("primary")||
a.options.affirmBtn.el.classList.add("primary"),a.options.cancelBtn.el.classList.contains("primary")&&a.options.cancelBtn.el.classList.remove("primary"));else if(39===b.keyCode||38===b.keyCode)b.preventDefault(),c.defined(a.options.affirmBtn.el)&&!c.defined(a.options.cancelBtn.el)?d.addClass(a.options.affirmBtn.el,"primary"):c.defined(a.options.affirmBtn.el)&&c.defined(a.options.cancelBtn.el)&&(a.options.cancelBtn.el.classList.contains("primary")||a.options.cancelBtn.el.classList.add("primary"),a.options.affirmBtn.el.classList.contains("primary")&&
a.options.affirmBtn.el.classList.remove("primary"))})};e.prototype.addClickEvents=function(a){var b=this;c.defined(this.options.affirmBtn.el)&&this.options.affirmBtn.el.addEventListener("click",function(d){b.dismiss();if(c.defined(a.onAffirm)&&c.isFunction(a.onAffirm))a.onAffirm(c.defined(b.inputEl)?b.inputEl.value:null);else c.defined(a.affirm)&&c.isFunction(a.affirm)&&a.affirm(c.defined(b.inputEl)?b.inputEl.value:null)});c.defined(this.options.cancelBtn.el)&&this.options.cancelBtn.el.addEventListener("click",
function(d){b.dismiss();if(c.defined(a.onCancel)&&c.isFunction(a.onCancel))a.onCancel(c.defined(b.inputEl)?b.inputEl.value:null);else c.defined(a.cancel)&&c.isFunction(a.cancel)&&a.cancel(c.defined(b.inputEl)?b.inputEl.value:null)});!0===a.dismissOnOverlayClick&&this.overlay.addEventListener("click",function(a){b.dismiss()})};e.prototype.makeDraggable=function(){new Bee.Drag.Movable(this.dialog)};e.prototype.dismiss=function(){d.closeWin(this.dialog,!0);d.closeWin(this.overlay,!0)};e.prototype.close=
e.prototype.dismiss;var k=new e({buttonAlignment:"right"});Bee.DiceyDialog={alert:function(a){k.alert(a)},confirm:function(a){k.confirm(a)},fileDialog:function(a){k.fileDialog(a)},progressDialog:function(a){k.progressDialog(a)},dismiss:function(){k.dismiss()}};return Bee.DiceyDialog});
