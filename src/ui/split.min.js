(function(g,r){(function(){var l=this,v=l.document,B=l.attachEvent&&!l.addEventListener,w=function(){for(var d,a=["","-webkit-","-moz-","-o-"],b=0;b<a.length;b++)if(d=v.createElement("div"),g.css(d,{cssText:"width:"+a[b]+"calc(9px)"}),d.style.length)return a[b]+"calc"}(),x=function(d){return g.isString(d)?v.querySelector(d):d};r.SplitPanes=function(d,a){var b,k=[];a=g.defined(a)?a:{};g.defined(a.gutterSize)||(a.gutterSize=10);g.defined(a.minSize)||(a.minSize=100);g.defined(a.snapOffset)||(a.snapOffset=
30);g.defined(a.direction)||(a.direction="horizontal");if("horizontal"===a.direction){var f="width";var u="clientWidth";var y="clientX";var C="left";var D="gutter gutter-horizontal";var E="paddingLeft";var F="paddingRight";a.cursor||(a.cursor="ew-resize")}else"vertical"===a.direction&&(f="height",u="clientHeight",y="clientY",C="top",D="gutter gutter-vertical",E="paddingTop",F="paddingBottom",a.cursor||(a.cursor="ns-resize"));var G=function(c){var h=this.a,e=this.b;if(!this.dragging&&a.onDragStart)a.onDragStart();
c.preventDefault();this.dragging=!0;this.move=K.bind(this);this.stop=L.bind(this);l.addEventListener("mouseup",this.stop);l.addEventListener("touchend",this.stop);l.addEventListener("touchcancel",this.stop);this.parent.addEventListener("mousemove",this.move);this.parent.addEventListener("touchmove",this.move);h.addEventListener("selectstart",n);h.addEventListener("dragstart",n);e.addEventListener("selectstart",n);e.addEventListener("dragstart",n);r.css(h,{userSelect:"none",webkitUserSelect:"none",
MozUserSelect:"none",pointerEvents:"none"});r.css(e,{userSelect:"none",webkitUserSelect:"none",MozUserSelect:"none",pointerEvents:"none"});this.gutter.style.cursor=a.cursor;this.parent.style.cursor=a.cursor;t.call(this)},L=function(){var c=this.a,h=this.b;if(this.dragging&&a.onDragEnd)a.onDragEnd();this.dragging=!1;l.removeEventListener("mouseup",this.stop);l.removeEventListener("touchend",this.stop);l.removeEventListener("touchcancel",this.stop);this.parent.removeEventListener("mousemove",this.move);
this.parent.removeEventListener("touchmove",this.move);delete this.stop;delete this.move;c.removeEventListener("selectstart",n);c.removeEventListener("dragstart",n);h.removeEventListener("selectstart",n);h.removeEventListener("dragstart",n);g.css(c,{userSelect:"",webkitUserSelect:"",MozUserSelect:"",pointerEvents:""});g.css(h,{userSelect:"",webkitUserSelect:"",MozUserSelect:"",pointerEvents:""});g.css(this.gutter,{cursor:""});g.css(this.parent,{cursor:""})},K=function(c){if(this.dragging&&(c="touches"in
c?c.touches[0][y]-this.start:c[y]-this.start,c<=this.aMin+a.snapOffset+this.aGutterSize?c=this.aMin+this.aGutterSize:c>=this.size-(this.bMin+a.snapOffset+this.bGutterSize)&&(c=this.size-(this.bMin+this.bGutterSize)),z.call(this,c),a.onDrag))a.onDrag()},t=function(){var c=l.getComputedStyle(this.parent);c=this.parent[u]-g.pInt(c[E])-g.pInt(c[F]);this.size=this.a.getBoundingClientRect()[f]+this.b.getBoundingClientRect()[f]+this.aGutterSize+this.bGutterSize;this.percentage=Math.min(this.size/c*100,100);
this.start=this.a.getBoundingClientRect()[C]},z=function(c){this.a.style[f]=w+"("+c/this.size*this.percentage+"% - "+this.aGutterSize+"px)";this.b.style[f]=w+"("+(this.percentage-c/this.size*this.percentage)+"% - "+this.bGutterSize+"px)"},A=function(c,h,e){"string"===typeof h||h instanceof String||(h=B?a.sizes[b]+"%":w+"("+h+"% - "+e+"px)");c.style[f]=h},n=function(){return!1},H=x(d[0]).parentNode;if(!a.sizes){var p=100/d.length;a.sizes=[];for(b=0;b<d.length;b++)a.sizes.push(p)}if(!Array.isArray(a.minSize)){p=
[];for(b=0;b<d.length;b++)p.push(a.minSize);a.minSize=p}for(b=0;b<d.length;b++){p=x(d[b]);var m=1===b,I=b===d.length-1,M=a.sizes[b],J=a.gutterSize;if(0<b){var q={a:x(d[b-1]),b:p,aMin:a.minSize[b-1],bMin:a.minSize[b],dragging:!1,parent:H,isFirst:m,isLast:I,direction:a.direction};q.aGutterSize=a.gutterSize;q.bGutterSize=a.gutterSize;m&&(q.aGutterSize=a.gutterSize/2);I&&(q.bGutterSize=a.gutterSize/2)}B||(0<b&&(m=v.createElement("div"),m.className=D,m.style[f]=a.gutterSize+"px",m.addEventListener("mousedown",
G.bind(q)),m.addEventListener("touchstart",G.bind(q)),H.insertBefore(m,p),q.gutter=m),0!==b&&b!==d.length-1)||(J=a.gutterSize/2);A(p,M,J);0<b&&k.push(q)}(function(c){for(var a=0,e=c.length;a<e;a++){t.call(c[a]);var b=c[a],d=b.a,g=b.b;d.getBoundingClientRect()[f]<b.aMin?(d.style[f]=b.aMin-b.aGutterSize+"px",g.style[f]=b.size-b.aMin-b.aGutterSize+"px"):g.getBoundingClientRect()[f]<b.bMin&&(d.style[f]=b.size-b.bMin-b.bGutterSize+"px",g.style[f]=b.bMin-b.bGutterSize+"px")}for(a=e-1;0<=a;a--)t.call(c[a]),
e=c[a],b=e.a,d=e.b,d.getBoundingClientRect()[f]<e.bMin?(b.style[f]=e.size-e.bMin-e.bGutterSize+"px",d.style[f]=e.bMin-e.bGutterSize+"px"):b.getBoundingClientRect()[f]<e.aMin&&(b.style[f]=e.aMin-e.aGutterSize+"px",d.style[f]=e.size-e.aMin-e.aGutterSize+"px")})(k);return{setSizes:function(a){for(var c=0;c<a.length;c++)if(0<c){var b=k[c-1];A(b.a,a[c-1],b.aGutterSize);A(b.b,a[c],b.bGutterSize)}},collapse:function(a){a===k.length?(a=k[a-1],t.call(a),z.call(a,a.size-a.bGutterSize)):(a=k[a],t.call(a),z.call(a,
a.aGutterSize))},destroy:function(){for(var a=0;a<k.length;a++)k[a].parent.removeChild(k[a].gutter),k[a].a.style[f]="",k[a].b.style[f]=""}}};if("undefined"!==typeof u){if("undefined"!==typeof module&&module.exports)var u=module.exports=Split;u.Bd.SplitPanes=r.SplitPanes}else Bee.Dom.SplitPanes=r.SplitPanes}).call(window)})(Bee.utils,Bee.Dom);
