Barge.Input.js:829: WARNING - Suspicious code. This code lacks side-effects. Is there a bug?
         if(!passVal.length < policy.minLength && !confirmPassVal.length < policy.minLength)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

0 error(s), 1 warning(s)
var Bee=Bee||{};
(function(d,l,m,h,n){var k=new Bee.Event.EventManager;Bee.Input=Bee.Input||{};Bee.Input={isModifierKey:function(a){return a.shiftKey||a.ctrlKey||a.altKey},isAlphaKey:function(a){return 65<=a.keyCode&&90>=a.keyCode},isNumericKey:function(a){return 48<=a.keyCode&&57>=a.keyCode},isArrowKey:function(a){return 37<=a.keyCode&&40>=a.keyCode},restrictCheckBoxTicks:function(a,c){var b=0;a=document.getElementsByClassName(a);for(var e=0;e<a.length;e++)!0===a[e].checked&&b++,a[e].addEventListener("change",function(){b<
c+2&&(!1===this.checked?b--:b++);!0===this.checked&&b>c&&(this.checked=!1,b--)})},getCaretPosition:function(a){return a.value.slice(0,a.selectionStart).length},setCaretPosition:function(a,c){a.setSelectionRange?(a.focus(),a.setSelectionRange(c,c)):a.createTextRange&&(a=a.createTextRange(),a.collapse(!0),a.moveEnd("character",c),a.moveStart("character",c),a.select())},insertAtCaret:function(a,c){if(document.selection)a.focus(),document.selection.createRange().text=c;else if(a.selectionStart||0===a.selectionStart){a.focus();
var b=a.selectionStart,e=a.selectionEnd;console.log(a.selectionStart);if("input"!==a.tagName.toLowerCase())a.innerHTML=a.innerHTML.substring(0,b)+c+a.innerHTML.substring(e,a.innerHTML.toString().length);else{var g=a.value.split("");console.log("str",g);console.log("val",c);console.log(this.getCaretPosition(a));console.log("start",a.value.substring(0,b-1));console.log("end",a.value.substring(e,a.value.length-1));a.value=a.value.substring(0,b)+c+a.value.substring(e,a.value.length);console.log(a.value)}}else"input"!==
a.tagName.toLowerCase()?a.innerHTML=a.innerHTML.trim()+c:a.value+=c},deleteAtCaret:function(a,c){var b=a.value,e=this.getCaretPosition(a);if(e<b.length)return c=void 0!==c?b.substring(0,e-c):b.substring(0,e-1),b=b.substring(e,b.length),"textarea"===a.tagName.toLowerCase()?a.innerHTML=c+b:a.value=c+b,!1;"textarea"===a.tagName.toLowerCase()?a.innerHTML=b.substring(-1,b.length-1):a.value=b.substring(-1,b.length-1)},deleteSelectedText:function(a){var c=a.value,b=c.substring(0,a.selectionStart);c=c.substring(a.selectionEnd,
c.length);a.value=b+c},changeNumericValue:function(a,c){c?" "===a.value||""===a.value?a.value=0:void 0!=a.getAttribute("data-max")?a.value<parseFloat(a.getAttribute("data-max"))?a.value++:a.value+="":a.value++:" "===a.value||""===a.value?a.value=0:void 0!==a.getAttribute("data-min")&&(a.value>parseFloat(a.getAttribute("data-min"))?a.value--:a.value+="")}};Bee.Input.Checkbox=function(a){this.options={headCheckboxClass:"fatherCheckBx",checkBoxesClass:"checkBx",bdTable:null,maxChecks:"all",editableRow:!1,
inputSet:null};this.options=d.extend(this.options,a)};Bee.Input.Checkbox.prototype.restrictChecks=function(a,c){var b=0;c=d.defined(c)?c:this.options.maxChecks;a=d.defined(a)?!d.isString(a)&&d.isArrayLike(a)?a:document.getElementsByClassName(a):document.getElementsByClassName(this.options.checkBoxesClass);for(var e=0,g=a.length;e<g;e++)!0===a[e].checked&&b++,rChbX[e].addEventListener("change",function(){b<c+2&&(!1===this.checked?b--:b++);"all"!==c&&!0===this.checked&&b>d.pInt(c)&&(this.checked=!1,
b--)})};Bee.Input.Checkbox.prototype.manageCheckboxGroup=function(a,c){a=void 0===a?null:a;c=void 0===c?!1:c;var b=this;a&&(this.options=d.extend(this.options,a));var e=0;if(c){var g=c.querySelectorAll("."+this.options.checkBoxesClass);var f=c.querySelector("."+this.options.headCheckboxClass)}else g=Bee.Dom.getEl("."+this.options.checkBoxesClass,!0),f=Bee.Dom.getEl("."+this.options.headCheckboxClass);if(d.defined(this.options.countChecks)&&!0===this.options.countChecks){var h=g.length;l.forEach(g,
function(a,b){!0===a.checked&&e++})}f.addEventListener("click",function(a){var c=this.checked,f;d.defined(b.options.bdTable)&&(f=b.options.bdTable.getRows());Bee.utils.forEach(g,function(a){a.checked=c});if(d.defined(f))if(c){if(Bee.utils.forEach(f,function(a,c){Bee.Dom.addClass(a,"highlighted");!0===b.options.editableRow&&null!==b.options.inputSet&&Bee.utils.forEach(b.options.inputSet,function(a,b){d.defined(a[c])&&(a[c].readOnly=!1)})}),d.defined(b.options.onAllChecked)&&d.isFunction(b.options.onAllChecked))b.options.onAllChecked()}else if(Bee.utils.forEach(f,
function(a,c){Bee.Dom.removeClass(a,"highlighted");!0===b.options.editableRow&&null!==b.options.inputSet&&Bee.utils.forEach(b.options.inputSet,function(a,b){d.defined(a[c])&&(a[c].readOnly=!0)})}),d.defined(b.options.onNoneChecked)&&d.isFunction(b.options.onNoneChecked))b.options.onNoneChecked();c&&Bee.Dom.hasClass(this,"someChecked")?(Bee.Dom.addClass(this,"allChecked"),Bee.Dom.removeClass(this,["someChecked","noneChecked"]),d.defined(b.options.countChecks)&&!0===b.options.countChecks&&(e=h)):c&&
Bee.Dom.hasClass(this,"noneChecked")?(Bee.Dom.addClass(this,"allChecked"),Bee.Dom.removeClass(this,["someChecked","noneChecked"]),d.defined(b.options.countChecks)&&!0===b.options.countChecks&&(e=h)):!c&&Bee.Dom.hasClass(this,"someChecked")&&(Bee.Dom.addClass(this,"noneChecked"),Bee.Dom.removeClass(this,["someChecked","allChecked"]),d.defined(b.options.countChecks)&&!0===b.options.countChecks&&(e=0));f=c=null;if(d.defined(b.options.countChecks)&&!0===b.options.countChecks)return e});k.bindOnAll(g,
"click",function(a){a=this.checked;var c=this.parentElement.parentElement.parentElement;c="TR"===c.tagName||"LI"===c.tagName?c:this.parentElement.parentElement;a?(Bee.Dom.addClass(c,"highlighted"),!0===b.options.editableRow&&null!==b.options.inputSet&&Bee.utils.forEach(b.options.inputSet,function(a,b){d.defined(a[0])&&(a[c.rowIndex-1].readOnly=!1)})):(Bee.Dom.removeClass(c,"highlighted"),!0===b.options.editableRow&&null!==b.options.inputSet&&Bee.utils.forEach(b.options.inputSet,function(a,b){d.defined(a[0])&&
(a[c.rowIndex-1].readOnly=!0)}));g=Bee.Array.toArray(g);var e=Bee.Array.someOf(g,function(a){return!0===a.checked});a=Bee.Array.someOf(g,function(a){return!1===a.checked});if(Bee.Array.allOf(g,function(a){return!0===a.checked})){if(Bee.Dom.removeClass(f,["someChecked","noneChecked"]),Bee.Dom.addClass(f,"allChecked"),d.defined(b.options.onAllChecked)&&d.isFunction(b.options.onAllChecked))b.options.onAllChecked()}else if(e){if(Bee.Dom.addClass(f,"someChecked"),Bee.Dom.removeClass(f,["allChecked","noneChecked"]),
!1===f.checked&&(f.checked=!0),d.defined(b.options.onSomeChecked)&&d.isFunction(b.options.onSomeChecked))b.options.onSomeChecked()}else if(a&&(Bee.Dom.removeClass(f,["someChecked","allChecked"]),Bee.Dom.addClass(f,"noneChecked"),!0===f.checked&&(f.checked=!1),d.defined(b.options.onNoneChecked)&&d.isFunction(b.options.onNoneChecked)))b.options.onNoneChecked()})};Bee.Input.manageRequiredInput=function(a,c,b,e,g){function f(a,b,c){var e=!1;e=l.allOf(a,function(a){return!m.isEmpty(a.value)});b&&(e?l.forEach(b,
function(a){h.enable(a)}):l.forEach(b,function(a){h.disable(a)}));c&&d.isFunction(c)&&c(e)}c=void 0===c?null:c;b=void 0===b?!0:b;e=void 0===e?null:e;g=void 0===g?!1:g;a=d.isString(a)?h.getEl("."+a,!0):a;c=d.isString(c)?h.getEl("."+c,!0):c;a=l.toArray(a);c=l.toArray(c);b&&f(a,c,e);k.bindOnAll(a,"keyup",function(){f(a,c,e)});k.bindOnAll(a,"change",function(){f(a,c,e)});g&&k.bindOnAll(a,"blur",function(b){f(a,c,e)})};Bee.Input.manageClearable=function(a,c,b,e){c=void 0===c?!1:c;e=void 0===e?null:e;k.bindOnAll(a,
"click",function(){var a=h.getEl("#"+this.getAttribute("data-inputel"));m.isEmpty(a.value)||(Bee.Input.clear(a),c&&d.defined(b)&&(b=l.toArray(b),l.forEach(b,function(a){h.disable(a)})),e&&d.isFunction(e)&&e(allFilled))})};Bee.Input.managePasswordPolicy=function(a,c,b,e){a=a.value;c=c.value;m.isEmpty(a)||m.isEmpty(c)||!m.isEqual(a,c)||/([A-Z]+)+/.test(a)};Bee.Input.managePasswordPreview=function(a){var c=[];l.forEach(a,function(a){c.push(h.getEl("#"+a.getAttribute("data-passel")))});k.bindOnAll(a,
"mousedown",function(){h.getEl("#"+this.getAttribute("data-passel")).type="text"});k.bind(window,"mouseup",function(){l.forEach(c,function(a){"password"!==a.type&&(a.type="password")})})};Bee.Input.manageImagePreviewBtns=function(a,c,b){m.isEmpty(c.style.backgroundImage)?(b[1].classList.add("disabled"),b[2].classList.add("disabled")):b[0].classList.add("disabled");k.bind(a,"change",function(){null!==this.value&&(b[0].classList.add("disabled"),b[1].classList.remove("disabled"),b[2].classList.remove("disabled"))});
k.bind(b[1],"click",function(){!this.classList.contains("disabled")&&this.classList.contains("remove-control-set")&&(this.classList.add("disabled"),b[0].classList.remove("disabled"),b[2].classList.add("disabled"),a.value=null,Bee.Dom.css(c,{backgroundImage:""}))})};Bee.Input.manageTextBoxGroup=function(a,c){var b=l.toArray(h.getEl("."+a,!0)),e=b.length;k.bindOnAll(b,"paste",function(a){console.log(a);console.log("pasted")});k.bindOnAll(b,"keyup",function(a){var d=b.indexOf(this);this.value.length===
c&&d+1<e&&(Bee.Keyboard.isAlphaKey(a)||Bee.Keyboard.isNumericKey(a))&&b[++d].focus();Bee.Keyboard.isBackSpaceKey(a)&&0===this.value.length&&0!==d&&b[--d].focus()});k.bindOnAll(b,"keydown",function(a){var d=b.indexOf(this);this.value.length>=c&&(Bee.Keyboard.isAlphaKey(a)||Bee.Keyboard.isNumericKey(a))&&a.preventDefault();Bee.Keyboard.isArrowKey(a)&&(Bee.Keyboard.isRightArrowKey(a)&&Bee.Input.getCaretPosition(this)===this.value.length&&d+1<e?b[++d].focus():Bee.Keyboard.isLeftArrowKey(a)&&0===Bee.Input.getCaretPosition(this)&&
0!==d&&b[--d].focus())})};Bee.Input.makeImagePreviewable=function(a,c){var b=/^([a-zA-Z0-9\s_\\.\-:])+(.png|.jpg|.jpeg|.tiff|.gif|.ico|.svg)$/;if(a&&c){"string"===typeof a&&(a=d.gebi(a));"string"===typeof c&&(c=d.gebi(c));var e=window.URL||window.webkitURL;e?a.onchange=function(){var d=this.files;d&&d.length?(d=d[0],/^image\/\w+/.test(d.type),b.test(a.value.toLowerCase())?c.style.backgroundImage="url("+e.createObjectURL(d)+")":Bee.DiceyDialog.confirm({t:"Selected file type not supported",m:"Please choose an image file.",
i:"f"})):Bee.DiceyDialog.confirm({t:"Selected file type not supported",m:"Please choose an image file.",i:"f"})}:Bee.DiceyDialog.confirm({t:"...well this is embarrassing",m:"Your image has been loaded but previewing is not supported by your browser.",i:"w"})}else throw Error("Missing params imgInputEl and/or imgPreviewEl");};Bee.Input.dataType=function(){var a=d.getElementsByAttribute("data-type");k.bindOnAll(a,"keydown",function(a){var b=Bee.Input,c=b.getCaretPosition(this);if(this.getAttribute("data-type").match(/number,?((([\w]*)+)?((,?[\W]*)*)?((,?[\w]*)+)?)*/)){var d=
this.getAttribute("data-type").toString().split(","),f=1<d.length;d=d.join(" ").replace(d[0],"");String.fromCharCode(a.keyCode).toLowerCase();8===a.keyCode?(a.preventDefault(),h.disabled(this)||(this.selectionEnd>this.selectionStart?(b.deleteSelectedText(this),this.focus(),b.setCaretPosition(this,c)):(b.deleteAtCaret(this),b.setCaretPosition(this,c-1)))):f&&a.shiftKey?d.indexOf("*"):!b.isNumericKey(a)&&37!==a.keyCode&&39!==a.keyCode&&9!==a.keyCode||a.shiftKey?38===a.keyCode?(a.preventDefault(),b.changeNumericValue(this,
!0)):40===a.keyCode?b.changeNumericValue(this,!1):a.preventDefault():h.disabled(this)||n.insertKeyBoardValue(this,c)}this.getAttribute("data-type").match(/alpha,?((([\w]*)+)?((,?[\W]*)*)?((,?[\w]*)+)?)*/)&&(8===a.keyCode&&(a.preventDefault(),this.selectionEnd>this.selectionStart?(console.log("selected"),b.deleteSelectedText(this),this.focus(),b.setCaretPosition(this,c)):(b.deleteAtCaret(this),b.setCaretPosition(this,c-1))),b.isAlphaKey(a)||b.isArrowKey(a)||32===a.keyCode||9===a.keyCode||b.isModifierKey(a)&&
!b.isNumericKey(a)||b.isModifierKey(a)&&b.isArrowKey(a)?h.disabled(this)||n.insertKeyBoardValue(this,c):a.preventDefault())})};Bee.Input.dataMax=function(){for(var a=d.getElementsByAttribute("data-max"),c=0;c<a.length;c++)(function(b){a[b].addEventListener("change",function(){d.pInt(this.value)>d.pInt(this.getAttribute("data-max"))?(a[b].value="",a[b].style.border="1px solid #ff0000"):a[b].style.borderColor=""})})(c)};Bee.Input.dataMin=function(){for(var a=d.getElementsByAttribute("data-min"),c=0;c<
a.length;c++)(function(b){a[b].addEventListener("keyup",function(){parseFloat(a[b].value)<parseFloat(a[b].getAttribute("data-min"))?(a[b].value="",dMax[b].style.border="1px solid #ff0000"):dMax[b].style.borderColor=""})})(c)};Bee.Input.dataMaxLength=function(){var a=d.getElementsByAttribute("data-maxLen");k.bindOnAll(a,"keydown",function(a){var b=d.getCaretPosition(this);"number"===typeof parseInt(this.getAttribute("data-maxLen"))&&(8===a.keyCode&&(a.preventDefault(),this.selectionEnd>this.selectionStart?
(console.log("selected"),d.defined(this.getAttribute("data-type"))||(Bee.Input.deleteSelectedText(this),this.focus(),Bee.Input.setCaretPosition(this,b))):d.defined(this.getAttribute("data-type"))||(Bee.Input.deleteAtCaret(this),Bee.Input.setCaretPosition(this,b-1))),this.value.toString().length<parseInt(this.getAttribute("data-maxLen"))||37===a.keyCode||39===a.keyCode?h.disabled(this)||Bee.Keyboard.insertKeyBoardValue(this,b):a.preventDefault())})};Bee.Input.clear=function(a){a.value="file"===a.type?
null:""}})(Bee.utils,Bee.Array,Bee.String,Bee.Dom,Bee.Keyboard);
